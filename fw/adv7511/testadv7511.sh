#!/usr/bin/env bash

# Restart ADV7511
i2cset -y 9 0x39 0x41 0x40
i2cset -y 9 0x39 0x41 0x10


i2cset -y 9 0x39 0x01 0x00
i2cset -y 9 0x39 0x02 0x18
i2cset -y 9 0x39 0x03 0x00
i2cset -y 9 0x39 0x0a 0x00
# i2cset -y 9 0x39 0x0c 0x3c
i2cset -y 9 0x39 0x0c 0x3c # s0-s3 channel I2S

i2cset -y 9 0x39 0x14 0x20
i2cset -y 9 0x39 0x15 0x25 # 48kHz
i2cset -y 9 0x39 0x16 0x38
i2cset -y 9 0x39 0x17 0x02 # Change [0] To enable DE generation
i2cset -y 9 0x39 0x18 0x00
i2cset -y 9 0x39 0x1f 0x04

# Test for DE generation
i2cset -y 9 0x39 0x35 0x40
i2cset -y 9 0x39 0x36 0xd9
i2cset -y 9 0x39 0x37 0x0a
i2cset -y 9 0x39 0x38 0x00
i2cset -y 9 0x39 0x39 0x2d
i2cset -y 9 0x39 0x3a 0x00
i2cset -y 9 0x39 0x3c 0x04


# i2cset -y 9 0x39 0x3b 0x00
i2cset -y 9 0x39 0x3c 0x13

i2cset -y 9 0x39 0x40 0x80
i2cset -y 9 0x39 0x44 0x3a
i2cset -y 9 0x39 0x4a 0x80
i2cset -y 9 0x39 0x48 0x30
i2cset -y 9 0x39 0x49 0x00
i2cset -y 9 0x39 0x4a 0x90
i2cset -y 9 0x39 0x4b 0x80
i2cset -y 9 0x39 0x4c 0x04

i2cset -y 9 0x39 0x55 0x00 # 0x1e
i2cset -y 9 0x39 0x56 0x08
i2cset -y 9 0x39 0x57 0x03

i2cset -y 9 0x39 0x73 0x01
i2cset -y 9 0x39 0x74 0x00
i2cset -y 9 0x39 0x76 0x00 # Two speakers
i2cset -y 9 0x39 0x77 0x00 # no attenuation

i2cset -y 9 0x39 0x94 0x40
i2cset -y 9 0x39 0x96 0x20 # 40
i2cset -y 9 0x39 0x98 0x03
i2cset -y 9 0x39 0x99 0x02
i2cset -y 9 0x39 0x9a 0xe0
i2cset -y 9 0x39 0x9b 0x18
i2cset -y 9 0x39 0x9c 0x30
i2cset -y 9 0x39 0x9d 0x61

i2cset -y 9 0x39 0xa1 0x00
i2cset -y 9 0x39 0xa2 0xa4
i2cset -y 9 0x39 0xa3 0xa4
i2cset -y 9 0x39 0xaf 0x16

i2cset -y 9 0x39 0xba 0x70

i2cset -y 9 0x39 0xd0 0x3c

i2cset -y 9 0x39 0xd1 0xff
i2cset -y 9 0x39 0xd6 0xd0
i2cset -y 9 0x39 0xde 0xd8 # 9c

i2cset -y 9 0x39 0xe0 0xd0
i2cset -y 9 0x39 0xe4 0x9c

i2cset -y 9 0x39 0xf9 0x00
i2cset -y 9 0x39 0xfa 0x00
